{"version":3,"file":"happy-hour-edit.stories-6dbda213.js","sources":["../../src/components/happy-hour-edit/happy-hour-edit.styled.ts","../../src/components/happy-hour-edit/happy-hour-edit.tsx"],"sourcesContent":["import { Button } from '@ambush/ui';\nimport { StyledSelectProps } from '@/design-system/select-input/types';\nimport { devices } from '@/styles/devices';\nimport styled from 'styled-components';\n\nexport const Header = styled.div`\n  margin: 20px 0px 28px 0px;\n`;\n\nexport const ContainerTitle = styled.div`\n  display: flex;\n  justify-content: left;\n  margin-bottom: 6px;\n`;\n\nexport const ContainerInput = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px;\n  @media ${devices.tablet}, ${devices.tabletLarge}, ${devices.desktop} {\n    display: grid;\n    grid-template-columns: 1fr auto;\n  }\n`;\n\nexport const IncreaseButton = styled(Button)`\n  margin-top: 16px;\n  &:focus {\n    max-height: 80%;\n  }\n  @media ${devices.tablet} {\n    margin-left: 16px;\n    margin-top: 8px;\n  }\n`;\n\nexport const TextTitle = styled.h2`\n  font-size: 18px;\n  font-weight: 700;\n  line-height: 22.5px;\n  font-family: ${(props) => props.theme.font.fontFamilyTitle};\n  color: ${(props) => props.theme.color.contrasts.highContrast};\n\n  @media ${devices.tablet} {\n    font-size: 20px;\n    line-height: 25px;\n  }\n  @media ${devices.desktop} {\n    font-size: 24px;\n    line-height: 30px;\n  }\n`;\n\nexport const ContainerButton = styled.div`\n  margin-top: 18px;\n\n  @media ${devices.tablet} {\n    display: flex;\n    width: auto;\n    justify-content: flex-end;\n  }\n`;\n\nexport const ScheduleButton = styled(Button)`\n  @media ${devices.mobile} {\n    width: 100%;\n  }\n`;\n\nexport const SpanError = styled.span`\n  display: block;\n  margin-top: 0.25rem;\n  line-height: 1.125rem;\n`;\n\nexport const Select = styled.select<StyledSelectProps>`\n  &:focus-within {\n    outline: none;\n    box-shadow: 0 0 0.125rem\n      ${(props) => props.theme.color.contrasts.mediumContrast};\n    border: 0.063rem solid ${(props) => props.theme.color.brandColors.purple};\n  }\n`;\n","import { CardWrapper, SelectInput } from '@/design-system';\nimport { HappyHourEditProps } from './types';\nimport { Paragraphs } from '@/design-system/typography';\nimport * as Styled from './happy-hour-edit.styled';\nimport { EMPLOYEES } from './const';\nimport { GuestList } from './guest-list';\nimport { useState } from 'react';\n\nexport function HappyHourEdit({\n  minGuests = 8,\n  maxGuests = 15,\n}: HappyHourEditProps) {\n  const [valueInput, setValueInput] = useState('');\n  const [guestsIdList, setGuestsIdList] = useState<string[]>([]);\n  const [validationError, setValidationError] = useState<string>('');\n\n  const filteredEmployeesList = EMPLOYEES.filter(\n    (employee) => !guestsIdList.includes(employee.guest.id),\n  );\n\n  const filteredGuestList = EMPLOYEES.filter((employee) =>\n    guestsIdList.includes(employee.guest.id),\n  );\n\n  const formattedOptions = filteredEmployeesList.map((employee) => ({\n    value: employee.guest.id,\n    label: employee.guest.name,\n  }));\n\n  function handleIncrease() {\n    const newId = filteredEmployeesList.find(\n      (item) => item.guest.id === valueInput,\n    )?.guest.id;\n    if (newId) {\n      const newState = [...guestsIdList, newId];\n      const error = getError(newState);\n      setGuestsIdList(newState);\n      setValidationError(error);\n    }\n  }\n\n  function handleDelete(id: string) {\n    setGuestsIdList((state) => state.filter((item) => item !== id));\n  }\n\n  function handleOnClick() {\n    const error = getError(guestsIdList);\n    setValidationError(error);\n\n    if (error) {\n      return;\n    }\n    console.log('Scheduled!');\n  }\n\n  function getError(guestList: string[]) {\n    if (minGuests > guestList.length) {\n      return `Minimum guests must be greater than  ${minGuests - 1}.`;\n    }\n    if (maxGuests === guestList.length) {\n      return 'People limit reached.';\n    }\n    return '';\n  }\n\n  const isButtonEnabled = guestsIdList.length >= maxGuests;\n  const isSubmitEnabled = guestsIdList.length <= minGuests;\n  return (\n    <CardWrapper>\n      <Styled.Header>\n        <Styled.ContainerTitle>\n          <Styled.TextTitle>Group Names</Styled.TextTitle>\n        </Styled.ContainerTitle>\n        <Styled.ContainerTitle>\n          <Paragraphs fontWeight=\"semihair\" size=\"medium\" colorVariant=\"dark\">\n            {`(${guestsIdList.length} / ${maxGuests} People)`}\n          </Paragraphs>\n        </Styled.ContainerTitle>\n        <Styled.ContainerInput>\n          <SelectInput\n            name=\"guest\"\n            placeholder={'Select a name'}\n            options={formattedOptions}\n            required\n            id={valueInput}\n            handleSelect={setValueInput}\n            warn={validationError}\n          />\n          <Styled.IncreaseButton\n            variant=\"ghost\"\n            icon=\"PlusIcon\"\n            color=\"secondary\"\n            onClick={handleIncrease}\n            disabled={isButtonEnabled}\n          >\n            Add Name\n          </Styled.IncreaseButton>\n        </Styled.ContainerInput>\n        <GuestList guestsList={filteredGuestList} onDelete={handleDelete} />\n        <Styled.ContainerButton>\n          <Styled.ScheduleButton\n            sizeVariant=\"medium\"\n            onClick={handleOnClick}\n            disabled={isSubmitEnabled}\n          >\n            Schedule\n          </Styled.ScheduleButton>\n        </Styled.ContainerButton>\n      </Styled.Header>\n    </CardWrapper>\n  );\n}\n"],"names":["Header","styled","ContainerTitle","ContainerInput","devices","IncreaseButton","Button","TextTitle","props","ContainerButton","ScheduleButton","HappyHourEdit","minGuests","maxGuests","valueInput","setValueInput","useState","guestsIdList","setGuestsIdList","validationError","setValidationError","filteredEmployeesList","EMPLOYEES","employee","filteredGuestList","formattedOptions","handleIncrease","newId","_a","item","newState","error","getError","__name","handleDelete","id","state","handleOnClick","guestList","isButtonEnabled","isSubmitEnabled","jsx","CardWrapper","jsxs","Styled.Header","Styled.ContainerTitle","Styled.TextTitle","Paragraphs","Styled.ContainerInput","SelectInput","Styled.IncreaseButton","GuestList","Styled.ContainerButton","Styled.ScheduleButton"],"mappings":"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"}